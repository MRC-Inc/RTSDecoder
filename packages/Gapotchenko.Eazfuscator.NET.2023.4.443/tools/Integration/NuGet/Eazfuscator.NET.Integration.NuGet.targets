<!--
***********************************************************************************************
Eazfuscator.NET.NuGet.targets

WARNING:  DO NOT MODIFY this file. Incorrect changes to this file will make it impossible to
          load or build your Eazfuscator.NET projects from the command-line or the IDE.

Copyright (C) 2008-2019 Gapotchenko
***********************************************************************************************
-->

<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <PropertyGroup>
    <Eazfuscator_NET_Integration_NuGet_Imported>true</Eazfuscator_NET_Integration_NuGet_Imported>
  </PropertyGroup>

  <Import Project="$(MSBuildThisFileDirectory)/../MSBuild/Eazfuscator.NET.Common.Tasks.targets" Condition=" '$(Eazfuscator_NET_CommonTasksImported)' == '' " />

  <UsingTask
    TaskName="Eazfuscator_NET_DetectPostBuildEventIntegrationTask"
    AssemblyFile="$(Eazfuscator_NET_TasksAssemblyFile)"/>

  <Target Name="_Eazfuscator_NET_DetectCommandLineIntegration" BeforeTargets="_Eazfuscator_NET_Bootstrap" Condition=" '$(EazfuscatorIntegration)' == 'Auto' AND '$(PostBuildEvent)' != '' ">
    <Eazfuscator_NET_DetectPostBuildEventIntegrationTask PostBuildEventPropertyValue="$(PostBuildEvent)">
      <Output TaskParameter="IsPostBuildEventIntegration" PropertyName="Eazfuscator_NET_IsPostBuildEventIntegration" />
    </Eazfuscator_NET_DetectPostBuildEventIntegrationTask>
    <PropertyGroup>
      <EazfuscatorIntegration Condition=" $(Eazfuscator_NET_IsPostBuildEventIntegration) ">PostBuildEvent</EazfuscatorIntegration>
    </PropertyGroup>
  </Target>

  <Target Name="_Eazfuscator_NET_EnsureIntegrationProperty" BeforeTargets="_Eazfuscator_NET_Bootstrap" DependsOnTargets="_Eazfuscator_NET_DetectCommandLineIntegration" Condition=" '$(EazfuscatorIntegration)' == 'Auto' ">
    <PropertyGroup>
      <EazfuscatorIntegration>MSBuild</EazfuscatorIntegration>
    </PropertyGroup>
  </Target>

  <Import Project="$(MSBuildThisFileDirectory)/../MSBuild/Eazfuscator.NET.Bootstrap.targets" Condition=" '$(Eazfuscator_NET_Bootstrap_Imported)' == '' " />
  <Import Project="$(MSBuildThisFileDirectory)/../MSBuild/Eazfuscator.NET.targets" Condition=" '$(Eazfuscator_NET_Imported)' == '' " />

</Project>
